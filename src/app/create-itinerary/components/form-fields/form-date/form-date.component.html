<div #currentElement>
  <div [ngClass]="state">
    <h1>{{title}}</h1>
    <div class="form-date" *ngIf="state === 'active'">
      <div class="date-container">
        <form autocomplete="off">
          <mat-form-field class="example-full-width">
            <mat-label>Elige una fecha (dd/mm/aaaa)</mat-label>
            <input
              class="datePickerInput"
              #pickerInput
              [formControl]="dateControl"
              (dateInput)="addEvent($event)"
              (dateChange)="addEvent($event)"
              matInput
              [matDatepicker]="picker"
              [matDatepickerFilter]="filterSinceToday">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error *ngIf="dateControl.invalid">{{ validateDate(pickerInput.value) }}</mat-error>
          </mat-form-field>
        </form>
      </div>
      <div class="form-button">
        <button type="button" class="button-next" mat-flat-button [disabled]="dateControl.invalid" (click)="selectDate()">Siguiente</button>
      </div>
    </div>
    <mat-slide-toggle
      *ngIf="state === 'active'"
      class="field-today"
      (change)="onToggleToday($event)">
      ¡Empezaré hoy!
    </mat-slide-toggle>

    <div *ngIf="state === 'completed'" class="step-completed">
      <span>{{dateSummary}}</span>
      <a class="edit" (click)="editField()">Editar</a>
    </div>
  </div>
</div>
