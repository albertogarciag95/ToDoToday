<div class="row">
  <div class="col-lg-3 col-md-1"></div>
  <div class="col-lg-6 col-md-10 col-xs-12">
    <form (ngSubmit)="createItinerary()" class="form-container">
      <h1 class="big-title">Crea tu propio itinerario</h1>
        <div class="row field">
          <app-form-selector
            id="firstCategory"
            [title]="firstCategoryTitle"
            [subtitle]="firstCategorySubtitle"
            [listItems]="firstOptionCategories"
            [selected]="firstCategorySelected"
            (selectedChange)="firstCategorySelected = $event; onFirstCategoryChanges($event)"
            [state]="fieldStates[0]"
            [required]="true"
            [secondaryListItems]="priceItems">
          </app-form-selector>
        </div>
        <div class="row field">
          <app-form-selector
            id="secondCategorySelector"
            [title]="secondCategoryTitle"
            [subtitle]="secondCategorySubtitle"
            [listItems]="secondOptionCategories"
            [state]="fieldStates[1]"
            [required]="false"
            [checkboxText]="'Saltar este paso'"
            [selected]="secondCategorySelected"
            (selectedChange)="secondCategorySelected = $event; onSecondCategoryChanges($event)"
            [secondaryListItems]="priceItems">
          </app-form-selector>
        </div>
        <div class="row field">
          <app-form-selector
            [title]="lunchCategoryTitle"
            [listItems]="lunchFoodCategories"
            [state]="fieldStates[2]"
            [required]="false"
            [checkboxText]="'Esta vez no pararé a comer'"
            [selected]="lunchCategorySelected"
            (selectedChange)="lunchCategorySelected = $event; fieldStates[3] = 'active'"
            [secondaryListItems]="secondaryListItems">
          </app-form-selector>
        </div>
        <div class="row field">
          <app-form-selector
            [title]="dinnerCategoryTitle"
            [listItems]="dinnerFoodCategories"
            [state]="fieldStates[3]"
            [required]="false"
            [checkboxText]="'Esta vez no pararé a cenar'"
            [selected]="dinnerCategorySelected"
            (selectedChange)="dinnerCategorySelected = $event; fieldStates[4] = 'active'"
            [secondaryListItems]="secondaryListItems">
          </app-form-selector>
        </div>
        <div class="row field">
          <app-form-location
            [title]="locationTitle"
            [state]="fieldStates[4]"
            (userLocationChange)="userLocation = $event">
          </app-form-location>
        </div>
        <div class="button-create">
          <h3 *ngIf="areAllFieldsFilled()">Por favor, rellena todos los campos</h3>
          <button type="submit" [disabled]="areAllFieldsFilled()" mat-raised-button color="primary">Crear itinerario</button>
        </div>
    </form>
    <hr>
  </div>
  <div class="col-lg-3 col-md-1"></div>
</div>

<div #options>
  <app-options
    *ngIf="itineraryResult"
    [result]="itineraryResult"
    (detailsChanged)="showItineraryDetails($event)"
    (mapOptionChanged)="enableMap($event)">
  </app-options>
</div>

<div #details>
  <app-details *ngIf="detailsSelected" [details]="detailsSelected"></app-details>
</div>

<div #map *ngIf="mapOptionSelected">
  <app-map *ngIf="itineraryResult" [places]="mapPlaces"></app-map>
</div>
